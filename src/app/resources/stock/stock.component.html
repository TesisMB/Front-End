




<section class="row justify-content-around col-body" id="row-aside">
  <!-- <div class="row justify-content-between p-3"> -->
  <form class="col-12">
    <div class="d-flex flex-column p-3">



      <div class="col-12 col-xs-12 col-sm-auto d-flex justify-content-between ">
        <div class="align-items-center align-self-start bd-highlight child-toggle" id="search">
          <mat-slide-toggle (change)="onShow($event)" color="warn">Mostrar recursos sin stock
          </mat-slide-toggle>
        </div>
        <div class="title">
          <h1>Stock de recursos</h1>
        </div>
        
        <div class="">
          <button mat-raised-button color="warn" [routerLink]="['/recursos','nuevo',type]">
            <mat-icon>add</mat-icon>
            Agregar {{type | lowercase}}
          </button>
        </div>

      </div>


      <div class="col-12 col-xs-12 col-sm-auto d-flex justify-content-between ">
        <div class="d-flex form-control align-self-start align-items-center bd-highlight pr-3" id="search">
          <label for="col-3 table-filtering-search" class="pr-3 col-form-label">Busqueda</label>
          <input class="col-7 input-search" type="text" name="searchTerm" [(ngModel)]="service.searchTerm">
          <span class="col-2 text-left" *ngIf="service.loading$ | async"><i
              class="fas fa-spinner fa-lg fa-spin"></i></span>
        </div>
        <mat-form-field appearance="outline" >
          <mat-label>Localidad</mat-label>
          <mat-select [(value)]="locationSelected" (selectionChange)="selectLocation($event.value)">
            <mat-option value=''>Todos</mat-option>
            <!-- <mat-select-trigger>
              {{locationSelected.length ? locationSelected[0] : ''}}
              <span *ngIf="locationSelected?.length > 1" class="example-additional-selection">
                (+{{locationSelected.length - 1}} {{locationSelected.length === 2 ? 'otro' : 'otros'}})
              </span>
            </mat-select-trigger> -->
            <!-- <mat-optgroup *ngFor="let locations of locations" [label]="locations.locationCityName"> -->
              <!-- <mat-option *ngFor="let estate of locations['estates']" [value]="estate.estateID">
                {{estate.address | titlecase}} &nbsp; &nbsp; <strong> {{ estate.estateTypes | uppercase }}</strong>
              </mat-option> -->
              <mat-option *ngFor="let locations of locations" [value]="locations.locationID">
                {{locations.locationCityName | titlecase}}
              </mat-option>
            <!-- </mat-optgroup> -->
            
          </mat-select>
        </mat-form-field>





        <!-- <button type="button" class="btn btn-options  btn-sm" (click)="generatePDF()">
          <mat-icon class="icon">picture_as_pdf</mat-icon><span class="option-text">Descargar datos</span>
        </button> -->

      </div>
      <div class="col-12 d-flex align-items-end justify-content-end">
        <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
          <mat-icon>more_vert</mat-icon>
        </button> 
          <mat-menu #menu="matMenu">
          <button  mat-menu-item (click)="reports = !reports">
            <mat-icon>pie_chart</mat-icon>
            <span>Reportes</span>
          </button>
          <!-- <button disabled mat-menu-item (click)="openDialog('get')">
            <mat-icon>picture_as_pdf</mat-icon>
            <span>Descargar **REFACTORIZAR**</span>
          </button>
          <button disabled mat-menu-item (click)="openDialog('getall')">
            <mat-icon>picture_as_pdf</mat-icon>
            <span>Descargar recursos de las filiales **REFACTORIZAR**</span>
          </button> -->
        </mat-menu> 
      </div>
    </div>

  </form>

  <!-- </div> -->
  <div class="col-12">
    <mat-tab-group mat-align-tabs="center" (selectedTabChange)="changeCondition($event)" color="warn">
      <mat-tab *ngFor="let tab of tabs; let index = index" [label]="tab | titlecase">
        <ng-template matTabContent>


          <stock-table  *ngIf="!isReport" [type]="type"></stock-table>
          <stock-report *ngIf="isReport"></stock-report>


        </ng-template>
        <!-- <ng-template  matTabContent>


          <stock-report></stock-report>


        </ng-template> -->
      </mat-tab>
    </mat-tab-group>

  </div>
</section>