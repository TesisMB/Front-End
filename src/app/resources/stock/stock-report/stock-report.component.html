<mat-grid-list cols="6" rowHeight="600px">
  <ng-container *ngIf="service.loading$ | async; else elseTemplate">
    <mat-grid-tile class="tile" colspan="6" rowspan="3">
      <mat-spinner></mat-spinner>
    </mat-grid-tile>
  </ng-container>

  <ng-template #elseTemplate>

    <ng-container *ngIf="(service.data$ | async).name && !(service.data$ | async).medicineDrug">
      <mat-grid-tile class="tile" colspan="6" rowspan="1">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title class="d-flex flex-wrap justify-content-between">
            <p>{{resourceService.type$ | async | titlecase}} por nombre</p>
            <button mat-icon-button (click)="openDialog('vehicles.name')"><mat-icon>info</mat-icon></button>
          </mat-card-title>
          <mat-card-subtitle>{{service.type$ | async}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <ngx-charts-advanced-pie-chart
            [view]="view2"
            [scheme]="colorScheme" 
            [results]=" (service.data$ | async).name"
            [gradient]="gradient"
            [animations]="gradient"
          (select)="onSelect($event.name,'name')"
          >
          </ngx-charts-advanced-pie-chart>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    </ng-container>
    <ng-container *ngIf="(service.data$ | async).name && !(service.data$ | async).medicineDrug">
      <mat-grid-tile class="tile" colspan="6" rowspan="1">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title class="d-flex flex-wrap justify-content-between">
            <p>{{resourceService.type$ | async | titlecase}} por nombre</p>
            <button mat-icon-button (click)="openDialog('name')"><mat-icon>info</mat-icon></button>
          </mat-card-title>
          <mat-card-subtitle>{{service.type$ | async}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <ngx-charts-pie-grid
          [view]="view2"
          [scheme]="colorScheme"
          [results]="(service.data$ | async).name"
          (select)="onSelect($event,'name')">
        </ngx-charts-pie-grid>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    </ng-container>

    <ng-container *ngIf="(service.data$ | async).medicineDrug">
      <mat-grid-tile class="tile" colspan="6" rowspan="1">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title class="d-flex flex-wrap justify-content-between">
            <p>{{resourceService.type$ | async | titlecase}} por farmaco</p>
            <button mat-icon-button (click)="openDialog('medicines.medicineDrug')"><mat-icon>info</mat-icon></button>
          </mat-card-title>
          <mat-card-subtitle>{{service.type$ | async}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <ngx-charts-advanced-pie-chart
            [view]="view2"
            [scheme]="colorScheme" 
            [results]=" (service.data$ | async).medicineDrug"
            [gradient]="gradient"
            [animations]="gradient"
          (select)="onSelect($event.name,'medicines.medicineDrug')"
          >
          </ngx-charts-advanced-pie-chart>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    </ng-container>
    <ng-container *ngIf="(service.data$ | async).medicineDrug">
      <mat-grid-tile class="tile" colspan="6" rowspan="1">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title class="d-flex flex-wrap justify-content-between">
            <p>{{resourceService.type$ | async | titlecase}} por farmaco</p>
            <button mat-icon-button (click)="openDialog('medicines.medicineDrug')"><mat-icon>info</mat-icon></button>
          </mat-card-title>
          <mat-card-subtitle>{{service.type$ | async}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <ngx-charts-pie-grid
          [view]="view2"
          [scheme]="colorScheme"
          [results]="(service.data$ | async).medicineDrug"
          (select)="onSelect($event,'medicines.medicineDrug')">
        </ngx-charts-pie-grid>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    </ng-container>
    <ng-container *ngIf="(service.data$ | async).medicineLab"
    >
    <mat-grid-tile class="tile" colspan="6" rowspan="1">
    <mat-card class="example-card">
      <mat-card-header>
        <mat-card-title class="d-flex flex-wrap justify-content-between">
          <p>Laboratorios</p>
          <button mat-icon-button (click)="openDialog('medicines.medicineLab')"><mat-icon>info</mat-icon></button>
        </mat-card-title>
        <mat-card-subtitle>
          {{service.type$ | async}}
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <ngx-charts-tree-map
        [view]="view2"
        [scheme]="colorScheme"
        [results]="(service.data$ | async).medicineLab"
        [gradient]="gradient"
        [animations]="gradient"
        (select)="onSelect($event,'medicines.medicineLab')">
      </ngx-charts-tree-map>
      </mat-card-content>
    </mat-card>
  </mat-grid-tile>
  </ng-container>
    <ng-container *ngIf="(service.data$ | async).employeeName">
      <mat-grid-tile class="tile" colspan="6" rowspan="1">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title class="d-flex flex-wrap justify-content-between">
            <p>{{resourceService.type$ | async | titlecase}} por encargado</p>
            <button mat-icon-button (click)="openDialog('vehicles.employeeName')"><mat-icon>info</mat-icon></button>
          </mat-card-title>
          <mat-card-subtitle>{{service.type$ | async}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <ngx-charts-advanced-pie-chart
            [view]="view2"
            [scheme]="colorScheme" 
            [results]="(service.data$ | async).employeeName"
            [gradient]="gradient"
            [animations]="gradient"
          (select)="onSelect($event.name,'vehicles.employeeName')"
          >
          </ngx-charts-advanced-pie-chart>
        </mat-card-content>
      </mat-card>

    </mat-grid-tile>
    </ng-container>

    <ng-container *ngIf="(service.data$ | async).brand">
      <mat-grid-tile class="tile" colspan="6" rowspan="1">
        <mat-card class="example-card">
          <mat-card-header>
            <mat-card-title class="d-flex flex-wrap justify-content-between">
              <p>{{resourceService.type$ | async | titlecase}} por marca</p>
              <button mat-icon-button (click)="openDialog('materials.brand')">
                <mat-icon>info</mat-icon>
              </button>
            </mat-card-title>
            <mat-card-subtitle>
              {{service.type$ | async}}
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-tree-map
            [view]="view2"
            [scheme]="colorScheme"
            [results]="(service.data$ | async).brand"
            [gradient]="gradient"
            [animations]="gradient"
            (select)="onSelect($event,'materials.brand')">
          </ngx-charts-tree-map>
          </mat-card-content>
        </mat-card>

      </mat-grid-tile>
      </ng-container>

      <ng-container *ngIf="(service.data$ | async).brandName">
        <mat-grid-tile class="tile" colspan="6" rowspan="1">
          <mat-card class="example-card">
            <mat-card-header>
              <mat-card-title class="d-flex flex-wrap justify-content-between">
                <p>{{resourceService.type$ | async | titlecase}} por marca</p>
                <button mat-icon-button (click)="openDialog('vehicles.brandName')">
                  <mat-icon>info</mat-icon>
                </button>
              </mat-card-title>
              <mat-card-subtitle>
                {{service.type$ | async}}
              </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <ngx-charts-tree-map
              [view]="view2"
              [scheme]="colorScheme"
              [results]="(service.data$ | async).brandName"
              [gradient]="gradient"
              [animations]="gradient"
              (select)="onSelect($event,'vehicles.brandName')">
            </ngx-charts-tree-map>
            </mat-card-content>
          </mat-card>
        </mat-grid-tile>
        </ng-container>
      <ng-container *ngIf="(service.data$ | async).locationCityName">
      <mat-grid-tile class="tile" [colspan]="3" rowspan="1">
        <mat-card class="example-card">
          <mat-card-header>
            <mat-card-title class="d-flex flex-wrap justify-content-between">
              <p>{{resourceService.type$ | async | titlecase}} por localidad</p>
              <button mat-icon-button (click)="openDialog('vehicles.employeeName')"><mat-icon>info</mat-icon></button>
            </mat-card-title>
            <mat-card-subtitle>
              {{service.type$ | async}}
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
            [view]="view"
            [scheme]="colorScheme"
            [results]="(service.data$ | async).locationCityName"
            [gradient]="gradient"
            [xAxis]="showXAxis"
            [yAxis]="showYAxis"
            [legend]="showLegend"
            [legendPosition]="legendPosition"
            [showXAxisLabel]="showYAxisLabelCity"
            [showYAxisLabel]="showYAxisLabel"
            [xAxisLabel]="xAxisLabel"
            [yAxisLabel]="yAxisLabelCity"
            (select)="onSelect($event.name,'locationCityName')"
          >
          </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </mat-grid-tile>
        
      </ng-container>
      
      <ng-container *ngIf="(service.data$ | async).donation"
      >
      <mat-grid-tile class="tile" colspan="3" rowspan="1">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title class="d-flex flex-wrap justify-content-between">
            <p>Origen de los recursos</p>
            <button mat-icon-button (click)="openDialog('vehicles.employeeName')"><mat-icon>info</mat-icon></button>
          </mat-card-title>
          <mat-card-subtitle>
            {{service.type$ | async}}
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <ngx-charts-pie-chart
          [view]="view"
          [customColors]="barChartcustomColors"
          [results]="(service.data$ | async).donation"
          [gradient]="gradient"
          [legend]="showLegend"
          [animations]="gradient"
          [legendPosition]="legendPosition"
          [labels]="showLabels"
          [explodeSlices]="true"
            (select)="onSelect($event.name,'donation')"
            [doughnut]="isDoughnut"
        >
        </ngx-charts-pie-chart>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
      </ng-container>

     
        
      <ng-container *ngIf="(service.data$ | async).availability">
      <mat-grid-tile class="tile" [colspan]="3" rowspan="1">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title class="d-flex flex-wrap justify-content-between">
            <p>{{resourceService.type$ | async | titlecase}} por disponibilidad</p>
            <button mat-icon-button (click)="openDialog('availability')"><mat-icon>info</mat-icon></button>
          </mat-card-title>
          <mat-card-subtitle>{{service.type$ | async}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <ngx-charts-advanced-pie-chart
          [view]="view"
          [scheme]="colorScheme" 
          [results]="(service.data$ | async).availability"
          [gradient]="gradient"
          [animations]="gradient"
        (select)="onSelect($event.name,'availability')"
        >
        </ngx-charts-advanced-pie-chart>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
      </ng-container>

      <ng-container *ngIf="(service.data$ | async).vehicleUtility">
      <mat-grid-tile class="tile" [colspan]="3" rowspan="1">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title class="d-flex flex-wrap justify-content-between">
            <p>{{resourceService.type$ | async | titlecase}} por utilidad</p>
            <button mat-icon-button (click)="openDialog('vehicles.vehicleUtility')"><mat-icon>info</mat-icon></button>
          </mat-card-title>
          <mat-card-subtitle>{{service.type$ | async}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <ngx-charts-bar-horizontal
          [view]="view"
          [scheme]="colorScheme"
          [results]="(service.data$ | async).vehicleUtility"
          [gradient]="true"
          [xAxis]="true"
          [yAxis]="true"
          [legend]="showLegend"
          [legendPosition]="legendPosition"
          [showXAxisLabel]="true"
          [showYAxisLabel]="true"
          [xAxisLabel]="xAxisLabel"
          [yAxisLabel]="yAxisLabelCity"
          (select)="onSelect($event.name, 'vehicles.vehicleUtility')"
        >
        </ngx-charts-bar-horizontal>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
      </ng-container>

      <ng-container *ngIf="(service.data$ | async).type">
        <mat-grid-tile class="tile" [colspan]="3" rowspan="1">
        <mat-card class="example-card">
          <mat-card-header>
            <mat-card-title class="d-flex flex-wrap justify-content-between">
              <p>{{resourceService.type$ | async | titlecase}} por tipo</p>
              <button mat-icon-button (click)="openDialog('vehicles.type')"><mat-icon>info</mat-icon></button>
            </mat-card-title>
            <mat-card-subtitle>{{service.type$ | async}}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <ngx-charts-bar-vertical
            [view]="view"
            [scheme]="colorScheme"
            [results]="(service.data$ | async).type"
            [gradient]="gradient"
            [xAxis]="showXAxis"
            [yAxis]="showYAxis"
            [legend]="showLegend"
            [legendPosition]="legendPosition"
            [showXAxisLabel]="showYAxisLabelCity"
            [showYAxisLabel]="showYAxisLabel"
            [xAxisLabel]="xAxisLabel"
            [yAxisLabel]="yAxisLabelCity"
            (select)="onSelect($event.name,'vehicles.type')"
          >
          </ngx-charts-bar-vertical>
          </mat-card-content>
        </mat-card>
      </mat-grid-tile>
        </ng-container>
        
      <ng-container *ngIf="(service.data$ | async).medicineDrug">
          <mat-grid-tile class="tile" [colspan]="3" rowspan="1">
            <mat-card class="example-card">
              <mat-card-header>
                <mat-card-title class="d-flex flex-wrap justify-content-between">
                  <p>{{resourceService.type$ | async | titlecase}} por farmaco</p>
                  <button mat-icon-button (click)="openDialog('vehicles.employeeName')"><mat-icon>info</mat-icon></button>
                </mat-card-title>
                <mat-card-subtitle>
                  {{service.type$ | async}}
                </mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                <ngx-charts-bar-vertical
                [view]="view"
                [scheme]="colorScheme"
                [results]="(service.data$ | async).medicineDrug"
                [gradient]="gradient"
                [xAxis]="showXAxis"
                [yAxis]="showYAxis"
                [legend]="showLegend"
                [legendPosition]="legendPosition"
                [showXAxisLabel]="showYAxisLabelCity"
                [showYAxisLabel]="showYAxisLabel"
                [xAxisLabel]="xAxisLabel"
                [yAxisLabel]="yAxisLabelCity"
                (select)="onSelect($event.name,'medicines.medicineDrug')"
              >
              </ngx-charts-bar-vertical>
              </mat-card-content>
            </mat-card>
          </mat-grid-tile>
            
        </ng-container>

       



  </ng-template>

  <!-- [xAxisTickFormatting] =  'formatingAxisX' -->

</mat-grid-list
>
